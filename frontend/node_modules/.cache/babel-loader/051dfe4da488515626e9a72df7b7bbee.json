{"ast":null,"code":"var _jsxFileName = \"/home/moss/OJT/src/Pages/UserInfoPw.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport 'antd/dist/antd.css';\nimport { Layout, Menu, Form, Input, Button, message } from 'antd';\nimport { DesktopOutlined, PieChartOutlined, FileOutlined, TeamOutlined, UserOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content,\n  Sider\n} = Layout;\nconst {\n  SubMenu\n} = Menu;\n\nconst FormLayoutDemo = () => {\n  _s();\n\n  const [form] = Form.useForm();\n  const [formLayout, setFormLayout] = useState('horizontal');\n  const [oldpw, setOldpw] = useState('admin');\n  const [newpw, setNewpw] = useState('admin123');\n  const [reqInProgress, setReqInProgress] = useState(false);\n\n  const onFormLayoutChange = ({\n    layout\n  }) => {\n    setFormLayout(layout);\n  };\n\n  const formItemLayout = formLayout === 'horizontal' ? {\n    labelCol: {\n      span: 4\n    },\n    wrapperCol: {\n      span: 14\n    }\n  } : null;\n  const buttonItemLayout = formLayout === 'horizontal' ? {\n    wrapperCol: {\n      span: 14,\n      offset: 4\n    }\n  } : null;\n\n  const updatePw = () => {\n    setReqInProgress(true);\n    const id = window.sessionStorage.getItem('id');\n    const old_data = {\n      \"header\": {\n        \"DATA_TYPE\": \"3\"\n      },\n      \"dto\": {\n        \"USER_ID\": id\n      }\n    };\n    axios.post('http://192.1.4.246:14000/AB3-5/OJTWEB/ReadUserAccount?action=SO', old_data).then(response => {\n      console.log('old post data: ' + JSON.stringify(old_data)); // console.log(response)\n\n      const id = window.sessionStorage.getItem('id');\n      const p = response.data.dto.USER_PW;\n      const n = response.data.dto.COMP_NM;\n      const new_data = {\n        \"header\": {\n          \"DATA_TYPE\": \"3\"\n        },\n        \"dto\": {\n          \"USER_ID\": id,\n          \"USER_PW\": newpw,\n          \"COMP_NM\": n // TODO:: 비밀번호 변경용 SO 하나 더 만들기, 나머지가 null로 들어가니까 다 비워지게되어버림,,\n\n        }\n      };\n      console.log(p, oldpw, newpw);\n\n      if (oldpw === p) {\n        console.log('auth true!');\n        axios.post('http://192.1.4.246:14000/AB3-5/OJTWEB/UpdateUserAccount?action=SO', new_data).then(response => {\n          console.log('new post data: ' + JSON.stringify(new_data));\n          console.log('update');\n          message.success('비밀번호가 변경되었습니다.');\n          setReqInProgress(false);\n        }).catch(error => {\n          message.error('비밀번호 변경에 실패하였습니다.');\n          setReqInProgress(false);\n        });\n      } // alert('비밀번호를 변경하였습니다.')\n\n    }).catch(error => {\n      message.error('잘못된 비밀번호입니다.');\n      setReqInProgress(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      style: {\n        margin: 'auto',\n        maxWidth: '50%',\n        paddingRight: '30px'\n      },\n      ...formItemLayout,\n      layout: formLayout,\n      form: form,\n      initialValues: {\n        layout: formLayout\n      },\n      onValuesChange: onFormLayoutChange,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"\\uD604\\uC7AC \\uBE44\\uBC00\\uBC88\\uD638\",\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          disabled: reqInProgress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"\\uC0C8\\uB85C\\uC6B4 \\uBE44\\uBC00\\uBC88\\uD638\",\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          disabled: reqInProgress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...buttonItemLayout,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: updatePw,\n          loading: reqInProgress,\n          children: \"\\uBCC0\\uACBD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(FormLayoutDemo, \"nHIX1GFBqLEavD9yf2MSqmyWbEE=\", false, function () {\n  return [Form.useForm];\n});\n\n_c = FormLayoutDemo;\n\nclass SiderDemo extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      collapsed: false\n    };\n\n    this.onCollapse = collapsed => {\n      console.log(collapsed);\n      this.setState({\n        collapsed\n      });\n    };\n  }\n\n  handleClick() {\n    window.location.href = \"http://localhost:3000\";\n    window.sessionStorage.clear();\n    window.location.reload();\n  }\n\n  render() {\n    const {\n      collapsed\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      style: {\n        minHeight: '100vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Sider, {\n        collapsible: true,\n        collapsed: collapsed,\n        onCollapse: this.onCollapse,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          theme: \"dark\",\n          defaultOpenKeys: ['sub1'],\n          defaultSelectedKeys: ['4'],\n          mode: \"inline\",\n          children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n            icon: /*#__PURE__*/_jsxDEV(TeamOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 38\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/main\",\n              children: \"\\uD648\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, \"1\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            icon: /*#__PURE__*/_jsxDEV(PieChartOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 38\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/card\",\n              children: \"\\uCE74\\uB4DC \\uAD00\\uB9AC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, \"2\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            icon: /*#__PURE__*/_jsxDEV(DesktopOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 38\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/payment\",\n              children: \"\\uACB0\\uC81C \\uB0B4\\uC5ED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)\n          }, \"3\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SubMenu, {\n            icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 39\n            }, this),\n            title: \"\\uD68C\\uC6D0 \\uC815\\uBCF4\",\n            children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/userinfo/pw\",\n                children: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uBCC0\\uACBD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 34\n              }, this)\n            }, \"4\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/userinfo/change\",\n                children: \"\\uD68C\\uC6D0\\uC815\\uBCF4 \\uC218\\uC815\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 34\n              }, this)\n            }, \"5\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, \"sub1\", true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 2\n      }, this), /*#__PURE__*/_jsxDEV(Layout, {\n        className: \"site-layout\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          className: \"site-layout-background\",\n          style: {\n            padding: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.handleClick,\n            style: {\n              float: 'right',\n              margin: 15\n            },\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          style: {\n            margin: '150px'\n          },\n          children: /*#__PURE__*/_jsxDEV(FormLayoutDemo, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nfunction UserInfoPw() {\n  return /*#__PURE__*/_jsxDEV(SiderDemo, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = UserInfoPw;\nexport default UserInfoPw;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"FormLayoutDemo\");\n$RefreshReg$(_c2, \"UserInfoPw\");","map":{"version":3,"sources":["/home/moss/OJT/src/Pages/UserInfoPw.js"],"names":["React","useState","Link","Layout","Menu","Form","Input","Button","message","DesktopOutlined","PieChartOutlined","FileOutlined","TeamOutlined","UserOutlined","axios","Header","Content","Sider","SubMenu","FormLayoutDemo","form","useForm","formLayout","setFormLayout","oldpw","setOldpw","newpw","setNewpw","reqInProgress","setReqInProgress","onFormLayoutChange","layout","formItemLayout","labelCol","span","wrapperCol","buttonItemLayout","offset","updatePw","id","window","sessionStorage","getItem","old_data","post","then","response","console","log","JSON","stringify","p","data","dto","USER_PW","n","COMP_NM","new_data","success","catch","error","margin","maxWidth","paddingRight","SiderDemo","Component","state","collapsed","onCollapse","setState","handleClick","location","href","clear","reload","render","minHeight","padding","float","UserInfoPw"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport 'antd/dist/antd.css';\nimport { Layout, Menu, Form, Input, Button, message } from 'antd';\nimport {\n  DesktopOutlined,\n  PieChartOutlined,\n  FileOutlined,\n  TeamOutlined,\n  UserOutlined,\n} from '@ant-design/icons';\nimport axios from 'axios';\n\nconst { Header, Content, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nconst FormLayoutDemo = () => {\n  const [form] = Form.useForm();\n  const [formLayout, setFormLayout] = useState('horizontal');\n  const [oldpw, setOldpw] = useState('admin');\n  const [newpw, setNewpw] = useState('admin123');\n  const [reqInProgress, setReqInProgress] = useState(false);\n\n  const onFormLayoutChange = ({ layout }) => {\n    setFormLayout(layout);\n  };\n\n  const formItemLayout =\n    formLayout === 'horizontal'\n      ? {\n          labelCol: {\n            span: 4,\n          },\n          wrapperCol: {\n            span: 14,\n          },\n        }\n      : null;\n  const buttonItemLayout =\n    formLayout === 'horizontal'\n      ? {\n          wrapperCol: {\n            span: 14,\n            offset: 4,\n          },\n        }\n      : null;\n\n\n  const updatePw = () => {\n    setReqInProgress(true);\n    const id = window.sessionStorage.getItem('id');\n    const old_data = {\n      \"header\": {\n          \"DATA_TYPE\": \"3\"\n      },\n      \"dto\": {\n          \"USER_ID\": id\n      }\n    }\n\n    axios.post('http://192.1.4.246:14000/AB3-5/OJTWEB/ReadUserAccount?action=SO', old_data).then(response => {\n      console.log('old post data: '+JSON.stringify(old_data))\n      // console.log(response)\n      const id = window.sessionStorage.getItem('id');\n      const p = response.data.dto.USER_PW;\n      const n = response.data.dto.COMP_NM;\n      const new_data = {\n        \"header\": {\n            \"DATA_TYPE\": \"3\"\n        },\n        \"dto\": {\n            \"USER_ID\": id,\n            \"USER_PW\": newpw,\n            \"COMP_NM\": n        // TODO:: 비밀번호 변경용 SO 하나 더 만들기, 나머지가 null로 들어가니까 다 비워지게되어버림,,\n        }\n      }\n      console.log(p, oldpw, newpw)\n      if(oldpw === p){\n        console.log('auth true!')\n        axios.post('http://192.1.4.246:14000/AB3-5/OJTWEB/UpdateUserAccount?action=SO', new_data).then(response => {\n          console.log('new post data: '+JSON.stringify(new_data))\n          console.log('update')\n          message.success('비밀번호가 변경되었습니다.')\n          setReqInProgress(false)\n        }).catch(error => {\n          message.error('비밀번호 변경에 실패하였습니다.')\n          setReqInProgress(false)\n        });\n      }\n      // alert('비밀번호를 변경하였습니다.')\n    }).catch(error => {\n      message.error('잘못된 비밀번호입니다.')\n      setReqInProgress(false)\n    });\n  }\n\n  return (\n    <>\n      <Form style = {{margin: 'auto', maxWidth: '50%', paddingRight: '30px'}}\n        {...formItemLayout}\n        layout={formLayout}\n        form={form}\n        initialValues={{\n          layout: formLayout,\n        }}\n        onValuesChange={onFormLayoutChange}\n      >\n        <Form.Item label=\"현재 비밀번호\">\n          <Input.Password disabled={reqInProgress}/>\n        </Form.Item>\n        <Form.Item label=\"새로운 비밀번호\">\n          <Input.Password disabled={reqInProgress}/>\n        </Form.Item>\n        <Form.Item {...buttonItemLayout}>\n          <Button type=\"primary\" onClick={updatePw} loading={reqInProgress}>변경</Button>\n        </Form.Item>\n      </Form>\n    </>\n  );\n};\n\nclass SiderDemo extends React.Component {\n  state = {\n    collapsed: false,\n  };\n\n  onCollapse = collapsed => {\n    console.log(collapsed);\n    this.setState({ collapsed });\n  };\n\n  handleClick(){\n    window.location.href = \"http://localhost:3000\";\n    window.sessionStorage.clear();\n    window.location.reload();\n  }\n\n  render() {\n    const { collapsed } = this.state;\n    return (\n      <Layout style={{ minHeight: '100vh' }}>\n <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\n          <div className=\"logo\" />\n          <Menu theme=\"dark\" defaultOpenKeys={['sub1']} defaultSelectedKeys={['4']} mode=\"inline\">\n            <Menu.Item key=\"1\" icon={<TeamOutlined />}>\n              <Link to=\"/main\">홈</Link>\n            </Menu.Item>\n            <Menu.Item key=\"2\" icon={<PieChartOutlined />}>\n              <Link to=\"/card\">카드 관리</Link>\n            </Menu.Item>\n            <Menu.Item key=\"3\" icon={<DesktopOutlined />}>\n              <Link to=\"/payment\">결제 내역</Link>\n            </Menu.Item>\n            <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"회원 정보\">\n              <Menu.Item key=\"4\"><Link to=\"/userinfo/pw\">비밀번호 변경</Link></Menu.Item>\n              <Menu.Item key=\"5\"><Link to=\"/userinfo/change\">회원정보 수정</Link></Menu.Item>\n            </SubMenu>\n          </Menu>\n        </Sider>\n        <Layout className=\"site-layout\">\n          <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n            <Button onClick={this.handleClick} style={{ float: 'right', margin: 15}}>\n              Logout\n            </Button>\n          </Header>\n          <Content style={{ margin: '150px' }}>\n            <FormLayoutDemo />\n          </Content>\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nfunction UserInfoPw() {\n  return (\n    <SiderDemo />\n  );\n}\n\nexport default UserInfoPw;\n\n"]},"metadata":{},"sourceType":"module"}